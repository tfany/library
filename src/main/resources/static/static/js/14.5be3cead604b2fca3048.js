webpackJsonp([14],{"1bBY":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("woOf"),l=n.n(a),r=n("FWz8"),s=n("xT6B"),o=n("vMJZ"),u={pageNum:1,pageSize:10,orderSn:null,receiverKeyword:null,status:null,createTime:null},i={name:"history",data:function(){return{listQuery:l()({},u),listLoading:!0,list:null,total:null,user:[]}},created:function(){this.getUser()},filters:{formatCreateTime:function(e){if(null==e)return"尚未归还";var t=new Date(e);return Object(s.a)(t,"yyyy-MM-dd hh:mm:ss")},formatStatus:function(e){return 1===e?"已还":"未还"}},methods:{getUser:function(){var e=this;Object(o.c)().then(function(t){e.user=t.data,e.getList()})},getList:function(){var e=this;this.listLoading=!0;var t={};t.id=this.user.userId,Object(r.e)(t).then(function(t){e.listLoading=!1,e.list=t.data})},handleHuan:function(e){var t=this,n={};n.id=e,Object(r.f)(n).then(function(e){t.getUser()})},toIndex:function(){this.$router.push("/customer")}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[n("el-row",[n("el-col",{attrs:{span:4}},[n("i",{staticClass:"el-icon-tickets"}),e._v(" "),n("span",[e._v("租借列表")])]),e._v(" "),n("el-col",{attrs:{span:3,offset:17}},[n("el-button",{attrs:{type:"primary"},on:{click:e.toIndex}},[e._v(" 返回首页")])],1)],1)],1),e._v(" "),n("div",{staticClass:"table-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"orderTable",staticStyle:{width:"100%"},attrs:{data:e.list,border:""}},[n("el-table-column",{attrs:{label:"订单编号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.historyId))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"用户账号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.user.userId))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"用户姓名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.user.name))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"书籍名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.book.bookName))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"租借时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatCreateTime")(t.row.rentTime)))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"租借时长",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.time)+"天")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"租借数量",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.num)+"本")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"应还日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatCreateTime")(new Date(new Date(t.row.rentTime).getTime()+24*t.row.time*60*60*1e3)))+"\n        ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"还书日期",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatCreateTime")(t.row.remandTime)))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"订单金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("￥"+e._s(t.row.money)+"元")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"是否已还",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatStatus")(t.row.status)))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?n("el-button",{attrs:{size:"mini"},on:{click:function(n){e.handleHuan(t.row.historyId)}}},[e._v("还书\n          ")]):e._e(),e._v(" "),0===t.row.status?n("p",[e._v("(提前还书不退钱)")]):e._e()]}}])})],1)],1)],1)},staticRenderFns:[]};var f=n("VU/8")(i,c,!1,function(e){n("NVNG")},"data-v-fdff8346",null);t.default=f.exports},NVNG:function(e,t){}});
//# sourceMappingURL=14.5be3cead604b2fca3048.js.map