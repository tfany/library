webpackJsonp([16],{GgGo:function(e,t){},"mCe+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("s/Rn"),i={name:"brandList",data:function(){return{operateType:null,listQuery:{keyword:null,pageNum:1,pageSize:5},list:null,total:null,listLoading:!0,multipleSelection:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,Object(a.c)(this.listQuery).then(function(t){e.listLoading=!1,e.list=t.data.list,e.total=t.data.total,e.totalPage=t.data.totalPage,e.pageSize=t.data.pageSize})},handleSelectionChange:function(e){this.multipleSelection=e},handleUpdate:function(e,t){this.$router.push({path:"/pms/updateSupplier",query:{id:t.supplierId}})},handleDelete:function(e,t){var n=this;this.$confirm("此操作会删除该供应商及该供应商所有书籍,此操作不可逆!","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(a.b)(t.supplierId).then(function(e){n.$alert("删除成功"),n.getList()})})},handleSizeChange:function(e){this.listQuery.pageNum=1,this.listQuery.pageSize=e,this.getList()},handleCurrentChange:function(e){this.listQuery.pageNum=e,this.getList()},searchBrandList:function(){this.listQuery.pageNum=1,this.getList()},handleBatchOperate:function(){var e=this;if(console.log(this.multipleSelection),this.multipleSelection<1)this.$message({message:"请选择一条记录",type:"warning",duration:1e3});else{var t=0;if("showBrand"===this.operateType)t=1;else{if("hideBrand"!==this.operateType)return void this.$message({message:"请选择批量操作类型",type:"warning",duration:1e3});t=0}for(var n=[],i=0;i<this.multipleSelection.length;i++)n.push(this.multipleSelection[i].id);var s=new URLSearchParams;s.append("ids",n),s.append("showStatus",t),Object(a.f)(s).then(function(t){e.getList(),e.$message({message:"修改成功",type:"success",duration:1e3})})}},addSupplier:function(){this.$router.push({path:"/pms/addSupplier"})}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[n("i",{staticClass:"el-icon-tickets"}),e._v(" "),n("span",[e._v("数据列表")]),e._v(" "),n("el-button",{staticClass:"btn-add",attrs:{size:"mini"},on:{click:function(t){e.addSupplier()}}},[e._v("\n      添加\n    ")])],1),e._v(" "),n("div",{staticClass:"table-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"brandTable",staticStyle:{width:"100%"},attrs:{data:e.list,border:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{label:"编号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.supplierId))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"供应商名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.supplierName))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"供应商联系方式",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.phoneNum))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"书籍数量",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.count))]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){e.handleUpdate(t.$index,t.row)}}},[e._v("编辑\n          ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.handleDelete(t.$index,t.row)}}},[e._v("删除\n          ")])]}}])})],1)],1),e._v(" "),n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","page-size":e.listQuery.pageSize,"page-sizes":[5,10,15],"current-page":e.listQuery.pageNum,total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"pageNum",t)}}})],1)],1)},staticRenderFns:[]};var l=n("VU/8")(i,s,!1,function(e){n("GgGo")},"data-v-cc903afc",null);t.default=l.exports}});
//# sourceMappingURL=16.38c69d02d34703df0f0b.js.map