webpackJsonp([8],{FM1F:function(e,t){},U7kH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"updateRank",components:{RankDetail:n("tiWM").a}},a={render:function(){var e=this.$createElement;return(this._self._c||e)("rank-detail",{attrs:{"is-edit":!0}})},staticRenderFns:[]};var s=n("VU/8")(r,a,!1,function(e){n("t/Vo")},null,null);t.default=s.exports},"t/Vo":function(e,t){},tiWM:function(e,t,n){"use strict";var r=n("woOf"),a=n.n(r),s=n("BRgg"),i=n("E4LH"),o={level:"",name:"",discount:""},l={name:"RankDetail",props:{isEdit:{type:Boolean,default:!1}},data:function(){return{rank:a()({},o),rules:{name:[{required:!0,message:"请输入等级名称",trigger:"blur"},{min:2,max:140,message:"长度在 2 到 10 个字符",trigger:"blur"}],discount:[{required:!0,validator:function(e,t,n){Object(i.b)(t)?n():n(new Error("请输入正确的折扣"))},message:"请输入正确的折扣"}],level:[{required:!0,message:"请输入等级编号"},{type:"number"}]}}},created:function(){var e=this;this.isEdit?Object(s.d)(this.$route.query.id).then(function(t){e.rank=t.data}):this.rank=a()({},o)},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(n){if(!n)return t.$alert("操作失败",{type:"error"}),!1;t.$confirm("是否提交数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.isEdit?Object(s.e)(t.$route.query.id,t.rank).then(function(n){t.$refs[e].resetFields(),t.$message({showClose:!0,message:"修改成功",type:"success"}),t.$router.back()}):Object(s.a)(t.rank).then(function(n){t.$refs[e].resetFields(),t.rank=a()({},o),t.$message({showClose:!0,message:"添加成功",type:"success"}),t.$router.push("/ums/rank")})})})},resetForm:function(e){this.$refs[e].resetFields(),this.rank=a()({},o)}}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"form-container",attrs:{shadow:"never"}},[n("el-form",{ref:"rankFrom",attrs:{model:e.rank,rules:e.rules,"label-width":"150px"}},[n("el-form-item",{attrs:{label:"会员等级：",prop:"level"}},[n("el-input",{attrs:{disabled:this.isEdit},model:{value:e.rank.level,callback:function(t){e.$set(e.rank,"level",e._n(t))},expression:"rank.level"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"等级名称：",prop:"name"}},[n("el-input",{model:{value:e.rank.name,callback:function(t){e.$set(e.rank,"name",t)},expression:"rank.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"折扣率：",prop:"discount"}},[n("el-input",{model:{value:e.rank.discount,callback:function(t){e.$set(e.rank,"discount",t)},expression:"rank.discount"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("rankFrom")}}},[e._v("提交")]),e._v(" "),e.isEdit?e._e():n("el-button",{on:{click:function(t){e.resetForm("rankFrom")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var c=n("VU/8")(l,u,!1,function(e){n("FM1F")},null,null);t.a=c.exports}});
//# sourceMappingURL=8.cd70d0a61596faace053.js.map